<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<meta property="og:title" content="Analysing normative data set" />
<meta property="og:description" content="IntroductionThe aim of the experiment of which I present some the results here was to get expectancy values for specific objects at specific location in a virtual kitchen. There were twenty possible objects and locations. After the completing these ratings, the participants were asked to rate the overall expectancy of those objects for a kitchen. The scale ranged from -100 (unexpected) to 100 (expected) and was continuous. Here I will visualise and interpret the results." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/2018/01/analysing-normative-data-set/" /><meta property="article:published_time" content="2018-01-10T00:00:00&#43;00:00"/>
<meta property="article:modified_time" content="2018-01-10T00:00:00&#43;00:00"/>

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Analysing normative data set"/>
<meta name="twitter:description" content="IntroductionThe aim of the experiment of which I present some the results here was to get expectancy values for specific objects at specific location in a virtual kitchen. There were twenty possible objects and locations. After the completing these ratings, the participants were asked to rate the overall expectancy of those objects for a kitchen. The scale ranged from -100 (unexpected) to 100 (expected) and was continuous. Here I will visualise and interpret the results."/>



    <link rel="canonical" href="/2018/01/analysing-normative-data-set/">

    <title>
      
        Analysing normative data set | Jörn Alexander Quent&#39;s notebook
      
    </title>

    
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <link href="/css/style.css" rel="stylesheet">

    

    

    
  </head>
  <body>
    
      <header class="blog-header">
    <nav class="navbar navbar-expand-md navbar-light bg-light">
        <a class="navbar-brand" href="/">
            Jörn Alexander Quent&#39;s notebook
        </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false"
            aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse justify-content-between" id="navbarNav">
            <ul class="navbar-nav">
                
                
                <li class="nav-item ">
                    
                        <a class="nav-link" href="/">Home</a>
                    
                </li>
                
                <li class="nav-item ">
                    
                        <a class="nav-link" href="/about/">About</a>
                    
                </li>
                
            </ul>
            
        </div>
    </nav>
</header>
    

    
    <div class="container">
      <div class="row">
        <div class="col-12 col-lg-8 blog-main">

          

<header>
    <h2 class="blog-post-title">
        <a class="text-dark" href="/2018/01/analysing-normative-data-set/">Analysing normative data set</a>
    </h2>
    


<div class="blog-post-date text-secondary">
    
        Jan 10, 2018
    
    
        by <span rel="author">Alex Quent</span>
    
</div>

    
<div class="blog-post-tags text-secondary">
    <strong>Tags:</strong>
    
        <a class="badge badge-primary" href="/tags/schemavr">schemaVR</a>
    
        <a class="badge badge-primary" href="/tags/rmarkdown">rmarkdown</a>
    
        <a class="badge badge-primary" href="/tags/ratingstudy">ratingStudy</a>
    
</div>

    
<div class="blog-post-categories text-secondary">
    <strong>Categories:</strong>
    
        <a class="badge badge-primary" href="/categories/experiments">experiments</a>
    
</div>

    <hr>
</header>
<article class="blog-post">
    


<div id="introduction" class="section level1">
<h1>Introduction</h1>
<p>The aim of the experiment of which I present some the results here was to get expectancy values for specific objects at specific location in a virtual kitchen. There were twenty possible objects and locations. After the completing these ratings, the participants were asked to rate the overall expectancy of those objects for a kitchen. The scale ranged from -100 (unexpected) to 100 (expected) and was continuous. Here I will visualise and interpret the results. Participants were helpful member of the research group. The code for the task can be found <a href="https://github.com/JAQuent/ratingStudy" class="uri">https://github.com/JAQuent/ratingStudy</a>.</p>
<div id="used-libraries-and-functions" class="section level2">
<h2>Used libraries and functions</h2>
<pre class="r"><code>library(ggplot2)
library(gridExtra)

pValue &lt;-function(x, sign = &#39;=&#39;){
  if (inherits(x, &quot;lm&quot;)){
    s &lt;- summary.lm(x)
    x &lt;- pf(s$fstatistic[1L], s$fstatistic[2L], s$fstatistic[3L], lower.tail = FALSE)
    if(x &gt; 1){
      stop(&quot;There is no p-value greater than 1&quot;)
    } else if(x &lt; 0.001){
      x.converted &lt;- &#39;&lt; .001&#39;
    } else{
      x.converted &lt;- paste(sign,substr(as.character(round(x, 3)), 2,5))
    } 
  } else {
    if(x &gt; 1){
      stop(&quot;There is no p-value greater than 1&quot;)
    } else if(x &lt; 0.001){
      x.converted &lt;- &#39;&lt; .001&#39;
    } else{
      x.converted &lt;- paste(sign,substr(as.character(round(x, 3)), 2,5))
    } 
  }
  return(x.converted)
}

rValue &lt;-function(x){
  if (inherits(x, &quot;lm&quot;)){
    r.squared &lt;- summary(x)$r.squared
    x.converted &lt;- paste(&#39;=&#39;,substr(as.character(round(r.squared, 3)), 2,5)) 
  } else {
    if (x &lt; 0){
      x.converted &lt;- paste(&#39;= -&#39;,substr(as.character(abs(round(x, 3))), 2,5), sep = &#39;&#39;) 
    } else {
      x.converted &lt;- paste(&#39;=&#39;,substr(as.character(abs(round(x, 3))), 2,5)) 
    }
  }
  return(x.converted) 
}</code></pre>
</div>
<div id="loading-the-rating-data" class="section level2">
<h2>Loading the rating data</h2>
<p>I start with loading the data and creating a 20 x 20 x N matrix holding all 400 location ratings for all participants. Similarly, I create a 20 x N matrix to hold the 20 objects ratings. After that, I shuffle the data because people in the group could otherwise infer the identity of the other participants.</p>
<pre class="r"><code># Prepare
subNo           &lt;- 1:6
N               &lt;- length(subNo)
locationRatings &lt;- array(data = NA, dim = c(20, 20, N))
objectRatings   &lt;- matrix(NA, 20, N)

# Sequently loading data
for(i in 1:N){
  locationRatings[,,i] &lt;- matrix(scan(paste(&#39;U:/Projects/schemaVR/normativeStudy/normativeData/locationRatings_&#39;, as.character(subNo[i]) ,&#39;.dat&#39;, sep = &#39;&#39;)), byrow = TRUE, ncol = 20)
  objectRatings[,i]    &lt;- scan(paste(&#39;U:/Projects/schemaVR/normativeStudy/normativeData/objectRatings_&#39;, as.character(subNo[i]) ,&#39;.dat&#39;, sep = &#39;&#39;))
}

# Shuffle to anonymise the data
shuffle         &lt;- sample(1:N)
locationRatings &lt;- locationRatings[,,shuffle]
objectRatings   &lt;- objectRatings[,shuffle]</code></pre>
<p>After successfully loading the data and saving it in the matrices, I want to look at distribution of the location ratings. I collapse the data across all 6 participants and create a histogram:</p>
<pre class="r"><code># Create a data frame and split by participant
locationRatingsDF &lt;- data.frame(ID = as.factor(rep(1:N, each = 400)), ratings = c(locationRatings))

# Create plot
ggplot(locationRatingsDF, aes(ratings)) + geom_histogram(binwidth = 1) + theme(panel.margin = unit(1, &quot;cm&quot;), text = element_text(size = 12)) + 
        labs(y = &#39;Number of ratings&#39;, x = &#39;Unexpected to expected&#39;) + 
        coord_cartesian(xlim = c(-100, 100), expand = FALSE)</code></pre>
<p><img src="/post/2018-01-10-analysing-normative-data-set_files/figure-html/unnamed-chunk-3-1.png" width="672" /></p>
<p>The ratings are spread across the scale. However it is also interesting to look at the individual distributions. There were I plot one histograms for each participant.</p>
<pre class="r"><code>ggplot(locationRatingsDF, aes(ratings)) + facet_grid(. ~ ID) + geom_histogram() + theme(panel.margin = unit(1, &quot;cm&quot;), text = element_text(size = 12)) + 
        labs(y = &#39;Number of ratings&#39;, x = &#39;Unexpected to expected&#39;) + 
        coord_cartesian(xlim = c(-100, 100), expand = FALSE)</code></pre>
<p><img src="/post/2018-01-10-analysing-normative-data-set_files/figure-html/unnamed-chunk-4-1.png" width="672" /></p>
<p>Looking at the individual data, it is quite apparent that the distributions differ quite profoundly in terms how their responses are spread. On looks a bit Gaussian with a small dip around zero, while other distributions tended to include many extreme responses.</p>
<p>As I want to use this data to create a distribution to draw a combination of objects and locations from, I average the matrices and calculate the standard deviations to have an idea how the raters differed from each other. Therefore, I create heatmaps to visualise the results.</p>
<pre class="r"><code>objectNames &lt;- c(&#39;microwave&#39;,&#39;kitchen roll&#39;,&#39;saucepan&#39;, &#39;toaster&#39;,&#39;fruit bowl&#39;,&#39;tea pot&#39;,&#39;knife&#39;,&#39;mixer&#39;,&#39;bread&#39;,&#39;glass jug&#39;,&#39;mug&#39;,&#39;dishes&#39;,&#39;towels&#39;,&#39;toy&#39;,&#39;pile of books&#39;,&#39;umbrella&#39;,&#39;hat&#39;,&#39;helmet&#39;,&#39;calendar&#39;,&#39;fan&#39;)

# Calculate metrics
averageLocationRatings &lt;- apply(locationRatings, 1:2, mean)
sdLocationRatings      &lt;- apply(locationRatings, 1:2, sd)
averageObjectRatings   &lt;- apply(objectRatings, 1, mean)
sdObjectRatings        &lt;- apply(objectRatings, 1, sd)

# Create dataframes to plot
averageLocationRatingsDF &lt;- data.frame(Object = rep(factor(1:20, labels = objectNames), 20), Location = as.factor(rep(1:20, each = 20)), Ratings = c(averageLocationRatings))
sdLocationRatingsDF      &lt;- data.frame(Object = rep(factor(1:20, labels = objectNames), 20), Location = as.factor(rep(1:20, each = 20)), SD = c(sdLocationRatings))

averageObjectRatingsDF  &lt;- data.frame(Object = factor(1:20, labels = objectNames), Ratings = c(averageObjectRatings))
sdObjectRatingsDF       &lt;- data.frame(Object = factor(1:20, labels = objectNames), SD = c(sdObjectRatings))

# Create average heatmaps
plot1 &lt;- ggplot(averageLocationRatingsDF, aes(Location, Object)) + geom_tile(aes(fill = Ratings)) + scale_fill_gradient(low = &quot;white&quot;, high = &quot;red&quot;) + scale_x_discrete(expand = c(0, 0)) +  scale_y_discrete(expand = c(0, 0)) + labs(title = &#39;Average: Object/location&#39;) + theme(legend.position = &#39;none&#39;)

plot2 &lt;- ggplot(averageObjectRatingsDF, aes(x = 1, y = Object)) + geom_tile(aes(fill = Ratings)) + scale_fill_gradient(low = &quot;white&quot;, high = &quot;red&quot;) + scale_x_discrete(expand = c(0, 0)) +  scale_y_discrete(expand = c(0, 0)) + labs(x = &#39;&#39;, title = &#39;Overall&#39;) + theme(axis.title.y = element_blank(), axis.text.y = element_blank(), axis.ticks.y = element_blank(), plot.margin=unit(c(0.2, 0, 0.62, 0),&quot;cm&quot;))
grid.arrange(plot1, plot2, ncol = 2, widths = c(5.5, 1))</code></pre>
<p><img src="/post/2018-01-10-analysing-normative-data-set_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
<p>The first twelve objects (from microwave to dishes) are supposed to be expected in a kitchen. This is also visible in the heatmaps both in the heatmap showing the average ratings for every object/location combination and in the overall heatmap showing the average ratings for the overall expectancy of a particular object in kitchen. From the white vertical stripes, it is also apparent that no object is really expected for some locations. One of those location for instance is on the floor in a corner of the room.</p>
<pre class="r"><code># Create Sd heatmap
plot3 &lt;- ggplot(sdLocationRatingsDF, aes(Location, Object)) + geom_tile(aes(fill = SD)) + scale_fill_gradient(low = &quot;white&quot;, high = &quot;red&quot;) + scale_x_discrete(expand = c(0, 0)) +  scale_y_discrete(expand = c(0, 0)) + labs(title = &#39;SD: Object/location&#39;) + theme(legend.position = &#39;none&#39;)

plot4 &lt;- ggplot(sdObjectRatingsDF, aes(x = 1, y = Object)) + geom_tile(aes(fill = SD)) + scale_fill_gradient(low = &quot;white&quot;, high = &quot;red&quot;) + scale_x_discrete(expand = c(0, 0)) +  scale_y_discrete(expand = c(0, 0)) + labs(x = &#39;&#39;, title = &#39;Overall&#39;) + theme(axis.title.y = element_blank(), axis.text.y = element_blank(), axis.ticks.y = element_blank(), plot.margin=unit(c(0.2, 0, 0.62, 0),&quot;cm&quot;))

grid.arrange(plot3, plot4, ncol = 2, widths = c(5.5, 1))</code></pre>
<p><img src="/post/2018-01-10-analysing-normative-data-set_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
<p>The SD are quite high in general. This stems from the fact that participants seem to have used difference response criterions. It is notable there is a lot of disagreement among the participant with regard to expectancy of the towel. This definitely needs more attention and I am considering not to use the towels.</p>
<p>Finally, I am also interest to see whether there is a relationship between the average expectancy across all locations and the overall expectancy rated at the end of the experiment.</p>
<pre class="r"><code>objectAverageLocation &lt;- rowMeans(averageLocationRatings)
correlationDF         &lt;- data.frame(Object = factor(1:20, labels = objectNames), Location = objectAverageLocation, Overall = averageObjectRatings)

correlation &lt;- cor.test(~ Overall + Location, data = correlationDF)

ggplot(correlationDF, aes(x = Location, y = Overall)) + geom_point() + geom_smooth(method = &#39;lm&#39;) + coord_cartesian(xlim = c(-25, 35), ylim = c(-75, 150), expand = FALSE) + labs(title = &#39;Average rating across locations vs. overall ratings&#39;) + annotate(&quot;text&quot;, x = 20, y = -50, label = paste(&#39;r &#39;, rValue(correlation$estimate), &#39;, p &#39; , pValue(correlation$p.value), sep = &#39;&#39;) , size = 5)</code></pre>
<p><img src="/post/2018-01-10-analysing-normative-data-set_files/figure-html/unnamed-chunk-7-1.png" width="672" /></p>
<p>As it turns out, there is a significant positive correlation between the average ratings across locations and the overall ratingsr, <em>r</em> = .556, <em>p</em> = .011.</p>
</div>
</div>


    

    

    <h4>See also</h4>
    <ul>
        
            <li><a href="/2017/11/retrieval-task-of-pilot-study/">Retrieval task of pilot study</a></li>
        
            <li><a href="/2017/11/consideration-on-objects/">Consideration on objects</a></li>
        
            <li><a href="/2017/10/thoughts-on-counterbalancing/">Thoughts on counterbalancing</a></li>
        
            <li><a href="/2017/10/lab-meeting-and-feedback-to-first-experiment/">Lab meeting and feedback to first experiment</a></li>
        
            <li><a href="/2017/10/use-empty-game-objects-as-spawn-points/">Use empty game objects as spawn points</a></li>
        
    </ul>


</article>



        </div>

        <aside class="col-12 col-lg-3 ml-auto blog-sidebar">
    
        


<section>
    <h4>Recent Posts</h4>
    <ol class="list-unstyled">
        
        <li>
            <a href="/2018/12/lab-meeting/">Lab meeting</a>
        </li>
        
        <li>
            <a href="/2018/11/selecting-and-checking-living-non-living-words/">Selecting and checking living/non-living words</a>
        </li>
        
        <li>
            <a href="/2018/01/analysing-normative-data-set/">Analysing normative data set</a>
        </li>
        
        <li>
            <a href="/2017/11/retrieval-task-of-pilot-study/">Retrieval task of pilot study</a>
        </li>
        
        <li>
            <a href="/2017/11/consideration-on-objects/">Consideration on objects</a>
        </li>
        
    </ol>
</section>

    
    
        <section>
    
        
    
        
        <h4>Categories</h4>
        <p>
            
            <a class="badge badge-primary" href="/categories/experiments">experiments</a>
            
            <a class="badge badge-primary" href="/categories/general">general</a>
            
        </p>
        
    
        
        <h4>Tags</h4>
        <p>
            
            <a class="badge badge-primary" href="/tags/graphics">graphics</a>
            
            <a class="badge badge-primary" href="/tags/hippocampus">hippocampus</a>
            
            <a class="badge badge-primary" href="/tags/lab-meeting">lab-meeting</a>
            
            <a class="badge badge-primary" href="/tags/memory">memory</a>
            
            <a class="badge badge-primary" href="/tags/mpfc">mpfc</a>
            
            <a class="badge badge-primary" href="/tags/noveltyvr">noveltyvr</a>
            
            <a class="badge badge-primary" href="/tags/pilot-study">pilot-study</a>
            
            <a class="badge badge-primary" href="/tags/ratingstudy">ratingstudy</a>
            
            <a class="badge badge-primary" href="/tags/rmarkdown">rmarkdown</a>
            
            <a class="badge badge-primary" href="/tags/schema">schema</a>
            
            <a class="badge badge-primary" href="/tags/schemavr">schemavr</a>
            
            <a class="badge badge-primary" href="/tags/unity3d">unity3d</a>
            
            <a class="badge badge-primary" href="/tags/word-properties">word-properties</a>
            
            <a class="badge badge-primary" href="/tags/words">words</a>
            
        </p>
        
    
</section>
    
</aside>

      </div>
    </div>
    

    
      






<footer class="blog-footer w-100">
    <nav class="navbar navbar-light bg-light">
        <p class="w-100 text-center">Hugo template made with ❤ by <a href="https://github.com/Xzya">Xzya</a>, inspired by <a href="https://github.com/alanorth/hugo-theme-bootstrap4-blog">hugo-theme-bootstrap4-blog</a></p>
        <p class="w-100 text-center"><a href="#">Back to top</a></p>
    </nav>
</footer>

    

    
    
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
  </body>
</html>
