<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<meta property="og:title" content="Final analysis of pilot data" />
<meta property="og:description" content="Introduction This script is about to check whether the parameters of the experiment (such as time in the VE, number of targets objects etc.) work to avoid either floor or ceiling effects. Note that the pre-encoding ratings (see below) were from different individuals.
Preliminary stuff Libraries &amp; functions library(data.table) library(plyr) library(ggplot2) library(lme4) library(ez) library(BayesFactor) library(grid) pValue &lt;-function(x, sign = &#39;=&#39;){ if (inherits(x, &#34;lm&#34;)){ s &lt;- summary.lm(x) x &lt;- pf(s$fstatistic[1L], s$fstatistic[2L], s$fstatistic[3L], lower." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/2018/02/final-analysis-of-pilot-data/" />
<meta property="article:published_time" content="2018-02-13T00:00:00+00:00" />
<meta property="article:modified_time" content="2018-02-13T00:00:00+00:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Final analysis of pilot data"/>
<meta name="twitter:description" content="Introduction This script is about to check whether the parameters of the experiment (such as time in the VE, number of targets objects etc.) work to avoid either floor or ceiling effects. Note that the pre-encoding ratings (see below) were from different individuals.
Preliminary stuff Libraries &amp; functions library(data.table) library(plyr) library(ggplot2) library(lme4) library(ez) library(BayesFactor) library(grid) pValue &lt;-function(x, sign = &#39;=&#39;){ if (inherits(x, &#34;lm&#34;)){ s &lt;- summary.lm(x) x &lt;- pf(s$fstatistic[1L], s$fstatistic[2L], s$fstatistic[3L], lower."/>



    <link rel="canonical" href="/2018/02/final-analysis-of-pilot-data/">

    <title>
      
        Final analysis of pilot data | Jörn Alexander Quent&#39;s notebook
      
    </title>

    
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <link href="/css/style.css" rel="stylesheet">

    

    

    
  </head>
  <body>
    
      <header class="blog-header">
    <nav class="navbar navbar-expand-md navbar-light bg-light">
        <a class="navbar-brand" href="/">
            Jörn Alexander Quent&#39;s notebook
        </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false"
            aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse justify-content-between" id="navbarNav">
            <ul class="navbar-nav">
                
                
                <li class="nav-item ">
                    
                        <a class="nav-link" href="/">Home</a>
                    
                </li>
                
                <li class="nav-item ">
                    
                        <a class="nav-link" href="/about/">About</a>
                    
                </li>
                
            </ul>
            
        </div>
    </nav>
</header>
    

    
    <div class="container">
      <div class="row">
        <div class="col-12 col-lg-8 blog-main">

          

<header>
    <h2 class="blog-post-title">
        <a class="text-dark" href="/2018/02/final-analysis-of-pilot-data/">Final analysis of pilot data</a>
    </h2>
    


<div class="blog-post-date text-secondary">
    
        Feb 13, 2018
    
    
        by <span rel="author">Alex Quent</span>
    
</div>

    
<div class="blog-post-tags text-secondary">
    <strong>Tags:</strong>
    
        <a class="badge badge-primary" href="/tags/pilot-study">pilot study</a>
    
        <a class="badge badge-primary" href="/tags/schemavr1">schemaVR1</a>
    
        <a class="badge badge-primary" href="/tags/rmarkdown">rmarkdown</a>
    
</div>

    
<div class="blog-post-categories text-secondary">
    <strong>Categories:</strong>
    
        <a class="badge badge-primary" href="/categories/experiments">experiments</a>
    
</div>

    <hr>
</header>
<article class="blog-post">
    <h2 id="introduction">Introduction</h2>
<p>This script is about to check whether the parameters of the experiment (such as time in the VE, number of targets objects etc.) work to avoid either floor or ceiling effects. Note that the pre-encoding ratings (see below) were from different individuals.</p>
<h2 id="preliminary-stuff">Preliminary stuff</h2>
<h3 id="libraries--functions">Libraries &amp; functions</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">library</span>(data.table)
<span style="color:#a6e22e">library</span>(plyr)
<span style="color:#a6e22e">library</span>(ggplot2)
<span style="color:#a6e22e">library</span>(lme4)
<span style="color:#a6e22e">library</span>(ez)
<span style="color:#a6e22e">library</span>(BayesFactor)
<span style="color:#a6e22e">library</span>(grid)

pValue <span style="color:#f92672">&lt;-</span><span style="color:#a6e22e">function</span>(x, sign <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;=&#39;</span>){
  <span style="color:#a6e22e">if </span>(<span style="color:#a6e22e">inherits</span>(x, <span style="color:#e6db74">&#34;lm&#34;</span>)){
    s <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">summary.lm</span>(x)
    x <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">pf</span>(s<span style="color:#f92672">$</span>fstatistic[1L], s<span style="color:#f92672">$</span>fstatistic[2L], s<span style="color:#f92672">$</span>fstatistic[3L], lower.tail <span style="color:#f92672">=</span> <span style="color:#66d9ef">FALSE</span>)
    <span style="color:#a6e22e">if</span>(x <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">1</span>){
      <span style="color:#a6e22e">stop</span>(<span style="color:#e6db74">&#34;There is no p-value greater than 1&#34;</span>)
    } else <span style="color:#a6e22e">if</span>(x <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">0.001</span>){
      x.converted <span style="color:#f92672">&lt;-</span> <span style="color:#e6db74">&#39;&lt; .001&#39;</span>
    } else{
      x.converted <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">paste</span>(sign,<span style="color:#a6e22e">substr</span>(<span style="color:#a6e22e">as.character</span>(<span style="color:#a6e22e">round</span>(x, <span style="color:#ae81ff">3</span>)), <span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">5</span>))
    } 
  } else {
    <span style="color:#a6e22e">if</span>(x <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">1</span>){
      <span style="color:#a6e22e">stop</span>(<span style="color:#e6db74">&#34;There is no p-value greater than 1&#34;</span>)
    } else <span style="color:#a6e22e">if</span>(x <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">0.001</span>){
      x.converted <span style="color:#f92672">&lt;-</span> <span style="color:#e6db74">&#39;&lt; .001&#39;</span>
    } else{
      x.converted <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">paste</span>(sign,<span style="color:#a6e22e">substr</span>(<span style="color:#a6e22e">as.character</span>(<span style="color:#a6e22e">round</span>(x, <span style="color:#ae81ff">3</span>)), <span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">5</span>))
    } 
  }
  <span style="color:#a6e22e">return</span>(x.converted)
}

rValue <span style="color:#f92672">&lt;-</span><span style="color:#a6e22e">function</span>(x){
  <span style="color:#a6e22e">if </span>(<span style="color:#a6e22e">inherits</span>(x, <span style="color:#e6db74">&#34;lm&#34;</span>)){
    r.squared <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">summary</span>(x)<span style="color:#f92672">$</span>r.squared
    x.converted <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">paste</span>(<span style="color:#e6db74">&#39;=&#39;</span>,<span style="color:#a6e22e">substr</span>(<span style="color:#a6e22e">as.character</span>(<span style="color:#a6e22e">round</span>(r.squared, <span style="color:#ae81ff">3</span>)), <span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">5</span>)) 
  } else {
    <span style="color:#a6e22e">if </span>(x <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">0</span>){
      x.converted <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">paste</span>(<span style="color:#e6db74">&#39;= -&#39;</span>,<span style="color:#a6e22e">substr</span>(<span style="color:#a6e22e">as.character</span>(<span style="color:#a6e22e">abs</span>(<span style="color:#a6e22e">round</span>(x, <span style="color:#ae81ff">3</span>))), <span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">5</span>), sep <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&#39;</span>) 
    } else {
      x.converted <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">paste</span>(<span style="color:#e6db74">&#39;=&#39;</span>,<span style="color:#a6e22e">substr</span>(<span style="color:#a6e22e">as.character</span>(<span style="color:#a6e22e">abs</span>(<span style="color:#a6e22e">round</span>(x, <span style="color:#ae81ff">3</span>))), <span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">5</span>)) 
    }
  }
  <span style="color:#a6e22e">return</span>(x.converted) 
}
</code></pre></div><h3 id="loading-data">Loading data</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#75715e"># Using fread instead of read.table because it is faster but rbindlist(lapply(fileNames, read.table)) would also work. This is my attempt to use more vectorisation in my code.</span>
population        <span style="color:#f92672">&lt;-</span> <span style="color:#ae81ff">2</span><span style="color:#f92672">:</span><span style="color:#ae81ff">6</span>
fileNames         <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">paste</span>(<span style="color:#e6db74">&#39;C:/Users/aq01/Desktop/schemVR_pilot/pilotData/retrievalTask_&#39;</span>, <span style="color:#a6e22e">as.character</span>(population),<span style="color:#e6db74">&#39;.dat&#39;</span>, sep <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&#39;</span>)
dataRetrievalTask <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">rbindlist</span>(<span style="color:#a6e22e">lapply</span>(fileNames, fread))

<span style="color:#75715e"># Variable and objects names</span>
<span style="color:#a6e22e">names</span>(dataRetrievalTask) <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#39;subNo&#39;</span>, <span style="color:#e6db74">&#39;date&#39;</span>, <span style="color:#e6db74">&#39;time&#39;</span>, <span style="color:#e6db74">&#39;trial&#39;</span>,<span style="color:#e6db74">&#39;objNum&#39;</span>, <span style="color:#e6db74">&#39;targetLocation&#39;</span>, <span style="color:#e6db74">&#39;targetRankPre&#39;</span>, <span style="color:#e6db74">&#39;foil1Location&#39;</span>, <span style="color:#e6db74">&#39;foil1RankPre&#39;</span>, <span style="color:#e6db74">&#39;foil2Location&#39;</span>, <span style="color:#e6db74">&#39;foil2RankPre&#39;</span>, <span style="color:#e6db74">&#39;AFCPreTime&#39;</span>,<span style="color:#e6db74">&#39;rtAFC&#39;</span>, <span style="color:#e6db74">&#39;resAFC&#39;</span>, <span style="color:#e6db74">&#39;accAFC&#39;</span>, <span style="color:#e6db74">&#39;conPreTime&#39;</span>, <span style="color:#e6db74">&#39;rtCon&#39;</span>, <span style="color:#e6db74">&#39;resCon&#39;</span>, <span style="color:#e6db74">&#39;left&#39;</span>, <span style="color:#e6db74">&#39;middle&#39;</span>, <span style="color:#e6db74">&#39;right&#39;</span>)
objNames              <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#39;microwave&#39;</span>,<span style="color:#e6db74">&#39;kitchen roll&#39;</span>,<span style="color:#e6db74">&#39;saucepan&#39;</span>, <span style="color:#e6db74">&#39;toaster&#39;</span>,<span style="color:#e6db74">&#39;bowl of fruits&#39;</span>,<span style="color:#e6db74">&#39;tea pot&#39;</span>,<span style="color:#e6db74">&#39;knife&#39;</span>,<span style="color:#e6db74">&#39;mixer&#39;</span>,<span style="color:#e6db74">&#39;bread&#39;</span>,<span style="color:#e6db74">&#39;glass jug&#39;</span>,<span style="color:#e6db74">&#39;mug&#39;</span>,<span style="color:#e6db74">&#39;dishes&#39;</span>,<span style="color:#e6db74">&#39;towels&#39;</span>,<span style="color:#e6db74">&#39;toy&#39;</span>,<span style="color:#e6db74">&#39;pile of books&#39;</span>,<span style="color:#e6db74">&#39;umbrella&#39;</span>,<span style="color:#e6db74">&#39;hat&#39;</span>,<span style="color:#e6db74">&#39;helmet&#39;</span>,<span style="color:#e6db74">&#39;calendar&#39;</span>,<span style="color:#e6db74">&#39;fan&#39;</span>)

<span style="color:#75715e"># Assign factor labels</span>
dataRetrievalTask<span style="color:#f92672">$</span>objName <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">factor</span>(dataRetrievalTask<span style="color:#f92672">$</span>objNum, labels <span style="color:#f92672">=</span> objNames)
dataRetrievalTask<span style="color:#f92672">$</span>left       <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">factor</span>(dataRetrievalTask<span style="color:#f92672">$</span>left, labels <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#39;target&#39;</span>, <span style="color:#e6db74">&#39;foil1&#39;</span>, <span style="color:#e6db74">&#39;foil2&#39;</span>))
dataRetrievalTask<span style="color:#f92672">$</span>middle     <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">factor</span>(dataRetrievalTask<span style="color:#f92672">$</span>middle, labels <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#39;target&#39;</span>, <span style="color:#e6db74">&#39;foil1&#39;</span>, <span style="color:#e6db74">&#39;foil2&#39;</span>))
dataRetrievalTask<span style="color:#f92672">$</span>right      <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">factor</span>(dataRetrievalTask<span style="color:#f92672">$</span>left, labels <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#39;target&#39;</span>, <span style="color:#e6db74">&#39;foil1&#39;</span>, <span style="color:#e6db74">&#39;foil2&#39;</span>))
dataRetrievalTask<span style="color:#f92672">$</span>resCon     <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">as.factor</span>(dataRetrievalTask<span style="color:#f92672">$</span>resCon)
</code></pre></div><h2 id="confidence-decision">Confidence decision</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#75715e"># Legend: 1 = Did not see object| 2 = Guess the object was there | 3 = Know the object was there</span>
table1 <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">table</span>(dataRetrievalTask<span style="color:#f92672">$</span>resCon)
</code></pre></div><p>After indicating which location was correct, participants indicated their confidence. There were 11 &lsquo;Did not see object&rsquo;, 43 &lsquo;Guess the object was there&rsquo; and 43 &lsquo;Know the object was there&rsquo; responses in total.</p>
<p>Another way to look at the data is to check the confidence responses aggregated for each participant and each object. The latter is especially important to see whether a object was repeatedly missed.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#75715e"># Looking at confidence response for each participant</span>
conSubNo <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">ddply</span>(dataRetrievalTask, <span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#39;subNo&#39;</span>), summarise, notSeen <span style="color:#f92672">=</span> <span style="color:#a6e22e">table</span>(resCon)[1], guessed <span style="color:#f92672">=</span> <span style="color:#a6e22e">table</span>(resCon)[2], knew <span style="color:#f92672">=</span> <span style="color:#a6e22e">table</span>(resCon)[3])
conSubNo
</code></pre></div><pre><code>##   subNo notSeen guessed knew
## 1     2       2      10    8
## 2     3       3       9    8
## 3     4       2       6   12
## 4     5       2      13    5
## 5     6       2       5   13
</code></pre>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#75715e"># Looking at confidence responses for each object</span>
conobjName <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">ddply</span>(dataRetrievalTask, <span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#39;objName&#39;</span>), summarise, notSeen <span style="color:#f92672">=</span> <span style="color:#a6e22e">table</span>(resCon)[1], guessed <span style="color:#f92672">=</span> <span style="color:#a6e22e">table</span>(resCon)[2], knew <span style="color:#f92672">=</span> <span style="color:#a6e22e">table</span>(resCon)[3])
conobjName
</code></pre></div><pre><code>##           objName notSeen guessed knew
## 1       microwave       2       1    2
## 2    kitchen roll       1       2    2
## 3        saucepan       0       4    1
## 4         toaster       0       1    4
## 5  bowl of fruits       0       1    4
## 6         tea pot       0       1    4
## 7           knife       4       1    0
## 8           mixer       0       4    1
## 9           bread       0       0    5
## 10      glass jug       0       3    2
## 11            mug       0       2    3
## 12         dishes       2       0    3
## 13         towels       0       2    3
## 14            toy       0       3    2
## 15  pile of books       0       3    2
## 16       umbrella       1       2    2
## 17            hat       1       3    1
## 18         helmet       0       4    1
## 19       calendar       0       2    3
## 20            fan       0       4    1
</code></pre>
<p>As can be seen above, participants didn&rsquo;t see the knife in 4 out of 5 times. This is clearly problematic. Interestingly, 2 participants indicated that they did not see microwave even though it is the biggest movable object in the room. I should probably exclude the knife from the analysis as already noted <a href="https://jaquent.me/2018/01/25/196/">here</a> because both foils are to similar as they are all on the working surface. Additionally, it is possible that the knife is just not visible enough. The other object look fine.</p>
<h2 id="accuracy-for-afc-decision-task-performance">Accuracy for AFC decision (task performance)</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#75715e"># For each participant</span>
dataRetrievalTaskSub1 <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">subset</span>(dataRetrievalTask, dataRetrievalTask<span style="color:#f92672">$</span>resCon <span style="color:#f92672">!=</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">&amp;</span> dataRetrievalTask<span style="color:#f92672">$</span>objNum <span style="color:#f92672">!=</span> <span style="color:#ae81ff">7</span>)
agg2                  <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">ddply</span>(dataRetrievalTaskSub1, <span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#39;subNo&#39;</span>), summarise, accAFC <span style="color:#f92672">=</span> <span style="color:#a6e22e">mean</span>(accAFC))
agg2
</code></pre></div><pre><code>##   subNo    accAFC
## 1     2 0.6111111
## 2     3 0.7647059
## 3     4 0.8888889
## 4     5 0.5294118
## 5     6 0.7777778
</code></pre>
<p>If one ignores the knife and all trials, on which participants indicated that they didn&rsquo;t see the object, the average accuracy is 0.72.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">ggplot</span>(agg2, <span style="color:#a6e22e">aes</span>(x <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span> , y <span style="color:#f92672">=</span> accAFC)) <span style="color:#f92672">+</span> 
  <span style="color:#a6e22e">geom_jitter</span>(width <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.1</span>, height <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>, alpha <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.5</span>) <span style="color:#f92672">+</span> 
  <span style="color:#a6e22e">geom_hline</span>(yintercept <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span><span style="color:#f92672">/</span><span style="color:#ae81ff">3</span>) <span style="color:#f92672">+</span> 
  <span style="color:#a6e22e">geom_segment</span>(<span style="color:#a6e22e">aes</span>(x <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.95</span>, y <span style="color:#f92672">=</span> <span style="color:#a6e22e">mean</span>(agg2<span style="color:#f92672">$</span>accAFC), xend <span style="color:#f92672">=</span> <span style="color:#ae81ff">1.05</span>, yend <span style="color:#f92672">=</span> <span style="color:#a6e22e">mean</span>(agg2<span style="color:#f92672">$</span>accAFC))) <span style="color:#f92672">+</span>
  <span style="color:#a6e22e">annotate</span>(<span style="color:#e6db74">&#39;text&#39;</span>, x <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.95</span>, y <span style="color:#f92672">=</span> (<span style="color:#ae81ff">1</span><span style="color:#f92672">/</span><span style="color:#ae81ff">3</span>) <span style="color:#f92672">-</span> <span style="color:#ae81ff">0.03</span>, label <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;Chance (1/3)&#39;</span>) <span style="color:#f92672">+</span> 
  <span style="color:#a6e22e">labs</span>(y <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;Accuracy (3AFC)&#39;</span>, x <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&#39;</span>) <span style="color:#f92672">+</span> 
  <span style="color:#a6e22e">coord_cartesian</span>(ylim <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">1</span>), xlim <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#ae81ff">0.9</span>, <span style="color:#ae81ff">1.1</span>)) <span style="color:#f92672">+</span> 
  <span style="color:#a6e22e">theme</span>(plot.margin <span style="color:#f92672">=</span> <span style="color:#a6e22e">margin</span>(<span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">10</span>))
</code></pre></div><p><img src="/post/2018-02-13-final-analysis-of-pilot-data_files/figure-markdown_github/unnamed-chunk-6-1.png" alt=""></p>
<p>The average performance seems to be in good range. The highest performance is 0.89, which is likely to be a bit inflated because this participant had longer exposure time. The lowest value 0.53 is still considerably above chance. The general difficulty seems to be appropriate.</p>
<h2 id="ratings">Ratings</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#75715e"># This chunk is about combining the data from the retrieval part with the data with the post-encoding ratings. </span>
<span style="color:#75715e"># Loading data and adding objects names</span>
fileNames         <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">paste</span>(<span style="color:#e6db74">&#39;C:/Users/aq01/Desktop/schemVR_pilot/pilotData/ratingTask_&#39;</span>, <span style="color:#a6e22e">as.character</span>(population),<span style="color:#e6db74">&#39;.dat&#39;</span>, sep <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&#39;</span>)
dataRatingTask    <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">rbindlist</span>(<span style="color:#a6e22e">lapply</span>(fileNames, fread))

<span style="color:#a6e22e">names</span>(dataRatingTask) <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#39;subNo&#39;</span>, <span style="color:#e6db74">&#39;date&#39;</span>, <span style="color:#e6db74">&#39;time&#39;</span>, <span style="color:#e6db74">&#39;trial&#39;</span>,<span style="color:#e6db74">&#39;objNum&#39;</span>, <span style="color:#e6db74">&#39;location&#39;</span>, <span style="color:#e6db74">&#39;rating&#39;</span>, <span style="color:#e6db74">&#39;RT&#39;</span>)

objNames <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#39;microwave&#39;</span>,<span style="color:#e6db74">&#39;kitchen roll&#39;</span>,<span style="color:#e6db74">&#39;saucepan&#39;</span>, <span style="color:#e6db74">&#39;toaster&#39;</span>,<span style="color:#e6db74">&#39;bowl of fruits&#39;</span>,<span style="color:#e6db74">&#39;tea pot&#39;</span>,<span style="color:#e6db74">&#39;knife&#39;</span>,<span style="color:#e6db74">&#39;mixer&#39;</span>,<span style="color:#e6db74">&#39;bread&#39;</span>,<span style="color:#e6db74">&#39;glass jug&#39;</span>,<span style="color:#e6db74">&#39;mug&#39;</span>,<span style="color:#e6db74">&#39;dishes&#39;</span>,<span style="color:#e6db74">&#39;towels&#39;</span>,<span style="color:#e6db74">&#39;toy&#39;</span>,<span style="color:#e6db74">&#39;pile of books&#39;</span>,<span style="color:#e6db74">&#39;umbrella&#39;</span>,<span style="color:#e6db74">&#39;hat&#39;</span>,<span style="color:#e6db74">&#39;helmet&#39;</span>,<span style="color:#e6db74">&#39;calendar&#39;</span>,<span style="color:#e6db74">&#39;fan&#39;</span>)

dataRatingTask<span style="color:#f92672">$</span>objName <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">factor</span>(dataRatingTask<span style="color:#f92672">$</span>objNum, labels <span style="color:#f92672">=</span> objNames)


<span style="color:#75715e"># Collapsing acrossp participants as well as objects and splitting location and rating values into three separate values</span>
dataRatingTask_agg <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">ddply</span>(dataRatingTask, <span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#39;subNo&#39;</span>, <span style="color:#e6db74">&#39;objName&#39;</span>, <span style="color:#e6db74">&#39;objNum&#39;</span>), summarise, 
                            location1 <span style="color:#f92672">=</span> location[1],  
                            location2 <span style="color:#f92672">=</span> location[2],  
                            location3 <span style="color:#f92672">=</span> location[3],
                            rating1   <span style="color:#f92672">=</span> rating[1],
                            rating2   <span style="color:#f92672">=</span> rating[2],
                            rating3   <span style="color:#f92672">=</span> rating[3])

<span style="color:#75715e"># Basically I need the following bit to sort the data set</span>
dataRetrievalTask_agg <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">ddply</span>(dataRetrievalTask, <span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#39;subNo&#39;</span>, <span style="color:#e6db74">&#39;objName&#39;</span>, <span style="color:#e6db74">&#39;objNum&#39;</span>), summarise, 
                               foil1Location  <span style="color:#f92672">=</span> foil1Location, 
                               targetLocation <span style="color:#f92672">=</span> targetLocation, 
                               foil2Location  <span style="color:#f92672">=</span> foil2Location)

<span style="color:#75715e"># Finding the respective ratings for targets and foils because this information is not saved for the ratingTask data set</span>
<span style="color:#75715e"># Target</span>
postRatingTarget  <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">rep</span>(<span style="color:#66d9ef">NA</span>, <span style="color:#ae81ff">20</span>)
postRatingTarget<span style="color:#a6e22e">[which</span>(dataRatingTask_agg<span style="color:#f92672">$</span>location1 <span style="color:#f92672">==</span> dataRetrievalTask_agg<span style="color:#f92672">$</span>targetLocation)] <span style="color:#f92672">&lt;-</span> dataRatingTask_agg<span style="color:#f92672">$</span>rating1<span style="color:#a6e22e">[which</span>(dataRatingTask_agg<span style="color:#f92672">$</span>location1 <span style="color:#f92672">==</span> dataRetrievalTask_agg<span style="color:#f92672">$</span>targetLocation)]
postRatingTarget<span style="color:#a6e22e">[which</span>(dataRatingTask_agg<span style="color:#f92672">$</span>location2 <span style="color:#f92672">==</span> dataRetrievalTask_agg<span style="color:#f92672">$</span>targetLocation)] <span style="color:#f92672">&lt;-</span> dataRatingTask_agg<span style="color:#f92672">$</span>rating2<span style="color:#a6e22e">[which</span>(dataRatingTask_agg<span style="color:#f92672">$</span>location2 <span style="color:#f92672">==</span> dataRetrievalTask_agg<span style="color:#f92672">$</span>targetLocation)]
postRatingTarget<span style="color:#a6e22e">[which</span>(dataRatingTask_agg<span style="color:#f92672">$</span>location3 <span style="color:#f92672">==</span> dataRetrievalTask_agg<span style="color:#f92672">$</span>targetLocation)] <span style="color:#f92672">&lt;-</span> dataRatingTask_agg<span style="color:#f92672">$</span>rating3<span style="color:#a6e22e">[which</span>(dataRatingTask_agg<span style="color:#f92672">$</span>location3 <span style="color:#f92672">==</span> dataRetrievalTask_agg<span style="color:#f92672">$</span>targetLocation)]

<span style="color:#75715e"># Foil 1</span>
postRatingFoil1  <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">rep</span>(<span style="color:#66d9ef">NA</span>, <span style="color:#ae81ff">20</span>)
postRatingFoil1<span style="color:#a6e22e">[which</span>(dataRatingTask_agg<span style="color:#f92672">$</span>location1 <span style="color:#f92672">==</span> dataRetrievalTask_agg<span style="color:#f92672">$</span>foil1Location)] <span style="color:#f92672">&lt;-</span> dataRatingTask_agg<span style="color:#f92672">$</span>rating1<span style="color:#a6e22e">[which</span>(dataRatingTask_agg<span style="color:#f92672">$</span>location1 <span style="color:#f92672">==</span> dataRetrievalTask_agg<span style="color:#f92672">$</span>foil1Location)]
postRatingFoil1<span style="color:#a6e22e">[which</span>(dataRatingTask_agg<span style="color:#f92672">$</span>location2 <span style="color:#f92672">==</span> dataRetrievalTask_agg<span style="color:#f92672">$</span>foil1Location)] <span style="color:#f92672">&lt;-</span> dataRatingTask_agg<span style="color:#f92672">$</span>rating2<span style="color:#a6e22e">[which</span>(dataRatingTask_agg<span style="color:#f92672">$</span>location2 <span style="color:#f92672">==</span> dataRetrievalTask_agg<span style="color:#f92672">$</span>foil1Location)]
postRatingFoil1<span style="color:#a6e22e">[which</span>(dataRatingTask_agg<span style="color:#f92672">$</span>location3 <span style="color:#f92672">==</span> dataRetrievalTask_agg<span style="color:#f92672">$</span>foil1Location)] <span style="color:#f92672">&lt;-</span> dataRatingTask_agg<span style="color:#f92672">$</span>rating3<span style="color:#a6e22e">[which</span>(dataRatingTask_agg<span style="color:#f92672">$</span>location3 <span style="color:#f92672">==</span> dataRetrievalTask_agg<span style="color:#f92672">$</span>foil1Location)]

<span style="color:#75715e"># Foil 2</span>
postRatingFoil2  <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">rep</span>(<span style="color:#66d9ef">NA</span>, <span style="color:#ae81ff">20</span>)
postRatingFoil2<span style="color:#a6e22e">[which</span>(dataRatingTask_agg<span style="color:#f92672">$</span>location1 <span style="color:#f92672">==</span> dataRetrievalTask_agg<span style="color:#f92672">$</span>foil2Location)] <span style="color:#f92672">&lt;-</span> dataRatingTask_agg<span style="color:#f92672">$</span>rating1<span style="color:#a6e22e">[which</span>(dataRatingTask_agg<span style="color:#f92672">$</span>location1 <span style="color:#f92672">==</span> dataRetrievalTask_agg<span style="color:#f92672">$</span>foil2Location)]
postRatingFoil2<span style="color:#a6e22e">[which</span>(dataRatingTask_agg<span style="color:#f92672">$</span>location2 <span style="color:#f92672">==</span> dataRetrievalTask_agg<span style="color:#f92672">$</span>foil2Location)] <span style="color:#f92672">&lt;-</span> dataRatingTask_agg<span style="color:#f92672">$</span>rating2<span style="color:#a6e22e">[which</span>(dataRatingTask_agg<span style="color:#f92672">$</span>location2 <span style="color:#f92672">==</span> dataRetrievalTask_agg<span style="color:#f92672">$</span>foil2Location)]
postRatingFoil2<span style="color:#a6e22e">[which</span>(dataRatingTask_agg<span style="color:#f92672">$</span>location3 <span style="color:#f92672">==</span> dataRetrievalTask_agg<span style="color:#f92672">$</span>foil2Location)] <span style="color:#f92672">&lt;-</span> dataRatingTask_agg<span style="color:#f92672">$</span>rating3<span style="color:#a6e22e">[which</span>(dataRatingTask_agg<span style="color:#f92672">$</span>location3 <span style="color:#f92672">==</span> dataRetrievalTask_agg<span style="color:#f92672">$</span>foil2Location)]

<span style="color:#75715e"># Creating new combined data set and exclude guess responses</span>
combData                  <span style="color:#f92672">&lt;-</span> dataRetrievalTask
combData<span style="color:#f92672">$</span>postRatingTarget <span style="color:#f92672">&lt;-</span> postRatingTarget
combData<span style="color:#f92672">$</span>postRatingFoil1  <span style="color:#f92672">&lt;-</span> postRatingFoil1
combData<span style="color:#f92672">$</span>postRatingFoil2  <span style="color:#f92672">&lt;-</span> postRatingFoil2
combData<span style="color:#a6e22e">[which</span>(combData<span style="color:#f92672">$</span>objNum <span style="color:#f92672">==</span> <span style="color:#ae81ff">7</span>),]
</code></pre></div><pre><code>##    subNo     date   time trial objNum targetLocation targetRankPre
## 1:     2 20180202 123537     9      7             20        338.25
## 2:     3 20180202 125243     3      7             20        338.25
## 3:     4 20180207 133353    11      7             20        338.25
## 4:     5 20180208 173324     4      7             20        338.25
## 5:     6 20180209 163241    14      7             20        338.25
##    foil1Location foil1RankPre foil2Location foil2RankPre AFCPreTime
## 1:            19     324.5833             2     359.9167   7830.268
## 2:            19     324.5833             2     359.9167   6324.611
## 3:            19     324.5833             2     359.9167   6619.014
## 4:            19     324.5833             2     359.9167   5089.594
## 5:            19     324.5833             2     359.9167  13325.536
##        rtAFC resAFC accAFC conPreTime     rtCon resCon  left middle right
## 1:  7819.901      3      1  1403.0627 1393.7994      1 foil2  foil1 foil2
## 2:  6314.136      1      0  2405.3414 2395.0598      1 foil1  foil2 foil1
## 3:  6611.930      2      1   448.0851  440.7390      1 foil1 target foil1
## 4:  5081.712      1      0  1798.6552 1791.0316      2 foil2 target foil2
## 5: 13316.473      3      1   705.3646  697.7877      1 foil2  foil1 foil2
##    objName postRatingTarget postRatingFoil1 postRatingFoil2
## 1:   knife        -57.49186       -48.85994       22.149837
## 2:   knife         42.01954        43.48534       -8.469055
## 3:   knife        100.00000       100.00000      100.000000
## 4:   knife        -79.64169       -32.57329      -59.446254
## 5:   knife         73.12704        51.79153        6.677524
</code></pre>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#75715e"># Again exluding all didn&#39;t see repsonses and the knife. </span>
combData                  <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">subset</span>(combData, combData<span style="color:#f92672">$</span>resCon <span style="color:#f92672">!=</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">&amp;</span> combData<span style="color:#f92672">$</span>objNum <span style="color:#f92672">!=</span> <span style="color:#ae81ff">7</span>)
</code></pre></div><h2 id="object-level">object level</h2>
<h3 id="relationship-between-expectancy-and-3afc-performance">Relationship between expectancy and 3AFC performance</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">combDataAfcExp  <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">ddply</span>(combData, <span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#39;objName&#39;</span>, <span style="color:#e6db74">&#39;objNum&#39;</span>), summarise, afc <span style="color:#f92672">=</span> <span style="color:#a6e22e">mean</span>(accAFC), preRank <span style="color:#f92672">=</span> <span style="color:#a6e22e">mean</span>(targetRankPre), postRating <span style="color:#f92672">=</span> <span style="color:#a6e22e">mean</span>(postRatingTarget))

<span style="color:#75715e"># How well do the pre-ecnoding ranks correlate with the post-encoding ratings.</span>
corrPrePost <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">cor.test</span>(combDataAfcExp<span style="color:#f92672">$</span>preRank, combDataAfcExp<span style="color:#f92672">$</span>postRating)
</code></pre></div><p>It might be interesting to note that the correlation between the pre-encoding ranks and post-encoding ratings is <em>r</em> = .01, <em>p</em> = .967. This clearly shows that ratings differ if you rated other combinations of objects and locations as well.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">plot1 <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">ggplot</span>(combDataAfcExp, <span style="color:#a6e22e">aes</span>(x <span style="color:#f92672">=</span> postRating, y <span style="color:#f92672">=</span> afc)) <span style="color:#f92672">+</span> 
  <span style="color:#a6e22e">geom_point</span>() <span style="color:#f92672">+</span>
  <span style="color:#a6e22e">geom_text</span>(<span style="color:#a6e22e">aes</span>(label <span style="color:#f92672">=</span> objNum),hjust <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>, vjust <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>) <span style="color:#f92672">+</span> 
  <span style="color:#a6e22e">geom_smooth</span>() <span style="color:#f92672">+</span>  
  <span style="color:#a6e22e">labs</span>(y <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;Mean accuracy (3AFC)&#39;</span>, x <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Expectancy&#34;</span>, title <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;Relationship with post-encoding ratings&#39;</span>) <span style="color:#f92672">+</span> 
  <span style="color:#a6e22e">coord_cartesian</span>(ylim <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">1.5</span>), xlim <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#ae81ff">-100</span>, <span style="color:#ae81ff">100</span>), expand <span style="color:#f92672">=</span> <span style="color:#66d9ef">FALSE</span>) <span style="color:#f92672">+</span> 
  <span style="color:#a6e22e">theme</span>(plot.margin <span style="color:#f92672">=</span> <span style="color:#a6e22e">unit</span>(<span style="color:#a6e22e">c</span>(<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">7</span>,<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">1</span>), <span style="color:#e6db74">&#34;lines&#34;</span>))
<span style="color:#a6e22e">for </span>(i in <span style="color:#ae81ff">1</span><span style="color:#f92672">:</span><span style="color:#a6e22e">dim</span>(combDataAfcExp)[1])  {
  height <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">seq</span>(<span style="color:#ae81ff">0.2</span>, <span style="color:#ae81ff">1.3</span>, length <span style="color:#f92672">=</span> <span style="color:#a6e22e">dim</span>(combDataAfcExp)[1])
plot1 <span style="color:#f92672">&lt;-</span> plot1 <span style="color:#f92672">+</span> <span style="color:#a6e22e">annotation_custom</span>(
      grob <span style="color:#f92672">=</span> <span style="color:#a6e22e">textGrob</span>(label <span style="color:#f92672">=</span> <span style="color:#a6e22e">paste</span>(<span style="color:#a6e22e">as.character</span>(combDataAfcExp<span style="color:#f92672">$</span>objNum[i]), <span style="color:#e6db74">&#34;=&#34;</span>, combDataAfcExp<span style="color:#f92672">$</span>objName[i]), hjust <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>),
      ymin <span style="color:#f92672">=</span> height[i],      <span style="color:#75715e"># Vertical position of the textGrob</span>
      ymax <span style="color:#f92672">=</span> height[i],
      xmin <span style="color:#f92672">=</span> <span style="color:#ae81ff">102</span>,         <span style="color:#75715e"># Note: The grobs are positioned outside the plot area</span>
      xmax <span style="color:#f92672">=</span> <span style="color:#ae81ff">102</span>)
 }   

gt <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">ggplot_gtable</span>(<span style="color:#a6e22e">ggplot_build</span>(plot1))
gt<span style="color:#f92672">$</span>layout<span style="color:#f92672">$</span>clip[gt<span style="color:#f92672">$</span>layout<span style="color:#f92672">$</span>name <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;panel&#34;</span>] <span style="color:#f92672">&lt;-</span> <span style="color:#e6db74">&#34;off&#34;</span>
<span style="color:#a6e22e">grid.draw</span>(gt)
</code></pre></div><p><img src="/post/2018-02-13-final-analysis-of-pilot-data_files/figure-markdown_github/unnamed-chunk-9-1.png" alt=""></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">plot2 <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">ggplot</span>(combDataAfcExp, <span style="color:#a6e22e">aes</span>(x <span style="color:#f92672">=</span> preRank, y <span style="color:#f92672">=</span> afc)) <span style="color:#f92672">+</span> 
  <span style="color:#a6e22e">geom_point</span>() <span style="color:#f92672">+</span>
  <span style="color:#a6e22e">geom_text</span>(<span style="color:#a6e22e">aes</span>(label <span style="color:#f92672">=</span> objNum),hjust <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>, vjust <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>) <span style="color:#f92672">+</span> 
  <span style="color:#a6e22e">geom_smooth</span>() <span style="color:#f92672">+</span>  
  <span style="color:#a6e22e">labs</span>(y <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;Mean accuracy (3AFC)&#39;</span>, x <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Expectancy&#34;</span>, title <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;Relationship with pre-encoding ranks&#39;</span>) <span style="color:#f92672">+</span>  
  <span style="color:#a6e22e">coord_cartesian</span>(ylim <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">1.5</span>), xlim <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">400</span>), expand <span style="color:#f92672">=</span> <span style="color:#66d9ef">FALSE</span>) <span style="color:#f92672">+</span> 
  <span style="color:#a6e22e">theme</span>(plot.margin <span style="color:#f92672">=</span> <span style="color:#a6e22e">unit</span>(<span style="color:#a6e22e">c</span>(<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">7</span>,<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">1</span>), <span style="color:#e6db74">&#34;lines&#34;</span>))
<span style="color:#a6e22e">for</span>(i in <span style="color:#ae81ff">1</span><span style="color:#f92672">:</span><span style="color:#a6e22e">dim</span>(combDataAfcExp)[1]) {
  height <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">seq</span>(<span style="color:#ae81ff">0.2</span>, <span style="color:#ae81ff">1.3</span>, length <span style="color:#f92672">=</span> <span style="color:#a6e22e">dim</span>(combDataAfcExp)[1])
plot2 <span style="color:#f92672">&lt;-</span> plot2 <span style="color:#f92672">+</span> <span style="color:#a6e22e">annotation_custom</span>(
      grob <span style="color:#f92672">=</span> <span style="color:#a6e22e">textGrob</span>(label <span style="color:#f92672">=</span> <span style="color:#a6e22e">paste</span>(<span style="color:#a6e22e">as.character</span>(combDataAfcExp<span style="color:#f92672">$</span>objNum[i]), <span style="color:#e6db74">&#34;=&#34;</span>, combDataAfcExp<span style="color:#f92672">$</span>objName[i]), hjust <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>),
      ymin <span style="color:#f92672">=</span> height[i],      <span style="color:#75715e"># Vertical position of the textGrob</span>
      ymax <span style="color:#f92672">=</span> height[i],
      xmin <span style="color:#f92672">=</span> <span style="color:#ae81ff">402</span>,         <span style="color:#75715e"># Note: The grobs are positioned outside the plot area</span>
      xmax <span style="color:#f92672">=</span> <span style="color:#ae81ff">402</span>)
 }   

gt <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">ggplot_gtable</span>(<span style="color:#a6e22e">ggplot_build</span>(plot2))
gt<span style="color:#f92672">$</span>layout<span style="color:#f92672">$</span>clip[gt<span style="color:#f92672">$</span>layout<span style="color:#f92672">$</span>name <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;panel&#34;</span>] <span style="color:#f92672">&lt;-</span> <span style="color:#e6db74">&#34;off&#34;</span>
<span style="color:#a6e22e">grid.draw</span>(gt)
</code></pre></div><p><img src="/post/2018-02-13-final-analysis-of-pilot-data_files/figure-markdown_github/unnamed-chunk-10-1.png" alt=""></p>
<p>If the knife were included in this analysis, it would be an outlier completely changing the smoothing curve. However both plots show that there might be no memory benefit for expected object when it comes to object/location memory, but there seems benefit for objects at unexpected locations. That is very interesting because there is basically no relationship between both ratings. However the number of participants is far to small too make any real claims about the relationship.</p>
<p>I think there could be a power problem because no matter how many participants I collect the analysis will be still run with 19 data points (20 minus the knife).</p>
<h2 id="participant-level">Participant level</h2>
<h3 id="factorisation">Factorisation</h3>
<p>Another way to look at the data is to split the data into three equally sized conditions based on the expectancy (i.e. unexpected, neutral, expected) for each participant. The problem however is that you cannot create equally sized conditions if the number of objects is twenty. The unexpected condition will hence comprise the lowest seven values, the neutral condition the next six values and the expected condition the next seven values.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#75715e"># Based on post-encoding ratings</span>
combData2 <span style="color:#f92672">&lt;-</span> combData
combData2<span style="color:#f92672">$</span>postRatingTargetRank <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">ddply</span>(combData2, <span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#39;subNo&#39;</span>), summarise, postRatingTarget <span style="color:#f92672">=</span> postRatingTarget, rank <span style="color:#f92672">=</span> <span style="color:#a6e22e">rank</span>(postRatingTarget))<span style="color:#f92672">$</span>rank

combData2<span style="color:#f92672">$</span>expFact <span style="color:#f92672">&lt;-</span> <span style="color:#ae81ff">2</span>
combData2<span style="color:#f92672">$</span>expFact<span style="color:#a6e22e">[which</span>(combData2<span style="color:#f92672">$</span>postRatingTargetRank <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">7</span>)] <span style="color:#f92672">&lt;-</span> <span style="color:#ae81ff">1</span>
combData2<span style="color:#f92672">$</span>expFact<span style="color:#a6e22e">[which</span>(combData2<span style="color:#f92672">$</span>postRatingTargetRank <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">14</span>)] <span style="color:#f92672">&lt;-</span> <span style="color:#ae81ff">3</span>
combData2<span style="color:#f92672">$</span>expFact <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">factor</span>(combData2<span style="color:#f92672">$</span>expFact, labels <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#34;unexpected&#34;</span>, <span style="color:#e6db74">&#34;neutral&#34;</span>, <span style="color:#e6db74">&#34;expected&#34;</span>))

combData2Exp <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">ddply</span>(combData2, <span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#39;subNo&#39;</span>, <span style="color:#e6db74">&#39;expFact&#39;</span>), summarise, 
                     N <span style="color:#f92672">=</span> <span style="color:#a6e22e">length</span>(accAFC),  
                     mean <span style="color:#f92672">=</span> <span style="color:#a6e22e">mean</span>(accAFC),
                     ratingsMean <span style="color:#f92672">=</span> <span style="color:#a6e22e">mean</span>(postRatingTarget))

<span style="color:#75715e"># It is important to aggregate data, which was already aggregated.</span>
combData2ExpAgg <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">ddply</span>(combData2Exp, <span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#39;expFact&#39;</span>), summarise, 
                        N <span style="color:#f92672">=</span> <span style="color:#a6e22e">length</span>(mean),  
                        accAfcMean <span style="color:#f92672">=</span> <span style="color:#a6e22e">mean</span>(mean), 
                        accAfcSd <span style="color:#f92672">=</span> <span style="color:#a6e22e">sd</span>(mean), 
                        accAfcSe <span style="color:#f92672">=</span> accAfcSd<span style="color:#f92672">/</span><span style="color:#a6e22e">sqrt</span>(N))

<span style="color:#a6e22e">ggplot</span>(combData2Exp, <span style="color:#a6e22e">aes</span>(x <span style="color:#f92672">=</span> expFact, y <span style="color:#f92672">=</span> mean)) <span style="color:#f92672">+</span>
  <span style="color:#a6e22e">geom_jitter</span>(width <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.2</span>, height <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>, alpha <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.5</span>) <span style="color:#f92672">+</span>
  <span style="color:#a6e22e">stat_summary</span>(fun.y <span style="color:#f92672">=</span> mean, geom <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;line&#34;</span>, <span style="color:#a6e22e">aes</span>(group<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>))  <span style="color:#f92672">+</span>
  <span style="color:#a6e22e">labs</span>(y <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;Mean accuracy (3AFC)&#39;</span>, x <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Expectancy&#34;</span>, title <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;Relationship with post-encoding ratings&#39;</span>) <span style="color:#f92672">+</span> 
  <span style="color:#a6e22e">theme</span>(plot.margin <span style="color:#f92672">=</span> <span style="color:#a6e22e">margin</span>(<span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">10</span>))
</code></pre></div><p><img src="/post/2018-02-13-final-analysis-of-pilot-data_files/figure-markdown_github/unnamed-chunk-11-1.png" alt=""></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#75715e"># Based on post-encoding ratings</span>
combData3               <span style="color:#f92672">&lt;-</span> combData
combData3<span style="color:#f92672">$</span>targetRankPre <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">ddply</span>(combData3, <span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#39;subNo&#39;</span>), summarise, targetRankPre <span style="color:#f92672">=</span> targetRankPre, rank <span style="color:#f92672">=</span> <span style="color:#a6e22e">rank</span>(targetRankPre))<span style="color:#f92672">$</span>rank

combData3<span style="color:#f92672">$</span>expFact <span style="color:#f92672">&lt;-</span> <span style="color:#ae81ff">2</span>
combData3<span style="color:#f92672">$</span>expFact<span style="color:#a6e22e">[which</span>(combData3<span style="color:#f92672">$</span>targetRankPre <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">7</span>)] <span style="color:#f92672">&lt;-</span> <span style="color:#ae81ff">1</span>
combData3<span style="color:#f92672">$</span>expFact<span style="color:#a6e22e">[which</span>(combData3<span style="color:#f92672">$</span>targetRankPre <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">14</span>)] <span style="color:#f92672">&lt;-</span> <span style="color:#ae81ff">3</span>
combData3<span style="color:#f92672">$</span>expFact <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">factor</span>(combData3<span style="color:#f92672">$</span>expFact, labels <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#34;unexpected&#34;</span>, <span style="color:#e6db74">&#34;neutral&#34;</span>, <span style="color:#e6db74">&#34;expected&#34;</span>))

combData3Exp <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">ddply</span>(combData3, <span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#39;subNo&#39;</span>, <span style="color:#e6db74">&#39;expFact&#39;</span>), summarise, 
                     N <span style="color:#f92672">=</span> <span style="color:#a6e22e">length</span>(accAFC),  
                     mean <span style="color:#f92672">=</span> <span style="color:#a6e22e">mean</span>(accAFC),
                     ratingsMean <span style="color:#f92672">=</span> <span style="color:#a6e22e">mean</span>(targetRankPre))

<span style="color:#75715e"># It is important to aggregate data, which was already aggregated.</span>
combData3ExpAgg <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">ddply</span>(combData3Exp, <span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#39;expFact&#39;</span>), summarise, 
                        N <span style="color:#f92672">=</span> <span style="color:#a6e22e">length</span>(mean),  
                        accAfcMean <span style="color:#f92672">=</span> <span style="color:#a6e22e">mean</span>(mean), 
                        accAfcSd <span style="color:#f92672">=</span> <span style="color:#a6e22e">sd</span>(mean), 
                        accAfcSe <span style="color:#f92672">=</span> accAfcSd<span style="color:#f92672">/</span><span style="color:#a6e22e">sqrt</span>(N))

<span style="color:#a6e22e">ggplot</span>(combData3Exp, <span style="color:#a6e22e">aes</span>(x <span style="color:#f92672">=</span> expFact, y <span style="color:#f92672">=</span> mean)) <span style="color:#f92672">+</span>
  <span style="color:#a6e22e">geom_jitter</span>(width <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.2</span>, height <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>, alpha <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.5</span>) <span style="color:#f92672">+</span>
  <span style="color:#a6e22e">stat_summary</span>(fun.y <span style="color:#f92672">=</span> mean, geom <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;line&#34;</span>, <span style="color:#a6e22e">aes</span>(group<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>))  <span style="color:#f92672">+</span>
  <span style="color:#a6e22e">labs</span>(y <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;Mean accuracy (3AFC)&#39;</span>, x <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Expectancy&#34;</span>, title <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;Relationship with pre-encoding ranks&#39;</span>) <span style="color:#f92672">+</span> 
  <span style="color:#a6e22e">theme</span>(plot.margin <span style="color:#f92672">=</span> <span style="color:#a6e22e">margin</span>(<span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">10</span>))
</code></pre></div><p><img src="/post/2018-02-13-final-analysis-of-pilot-data_files/figure-markdown_github/unnamed-chunk-12-1.png" alt=""></p>
<h2 id="conclusion">Conclusion</h2>
<p>Overall, it looks like the paradigm could work to inform me about the relationship between schema-congruency and object/location memory. The performance is in a good range. Furthermore, it became apparent that I might need exclude the knife from the analysis after looking at the confidence responses this item received. Therefore I will exclude it if this pattern persist in data, which I will begin to collect. The next step will be to write the real analysis script with pre-processing and so on and formulated hypotheses. After that and fixing some issue in the protocol, I will start collecting data. Yay :)</p>


    

    

    <h4>See also</h4>
    <ul>
        
            <li><a href="/2018/01/checking-whether-my-data-is-saved-correctly/">Checking whether my data is saved correctly</a></li>
        
            <li><a href="/2018/01/second-attempt-to-select-set-of-object/location-pairs/">Second attempt to select set of object/location pairs</a></li>
        
            <li><a href="/2018/01/testing-whether-targets-differ-in-rank-from-foils/">Testing whether targets differ in rank from foils</a></li>
        
            <li><a href="/2018/01/stimulus-selection-for-schemavr1-attempt-1/">Stimulus selection for schemaVR1 (Attempt 1)</a></li>
        
            <li><a href="/2017/11/running-rmarkdown-on-cbu-computer-and-first-pilot-session/">Running RMarkdown on CBU computer and first pilot session</a></li>
        
    </ul>


</article>



        </div>

        <aside class="col-12 col-lg-3 ml-auto blog-sidebar">
    
        


<section>
    <h4>Recent Posts</h4>
    <ol class="list-unstyled">
        
        <li>
            <a href="/2020/07/comparing-different-methods-to-calculate-bayes-factors-for-a-simple-mode/">Comparing different methods to calculate Bayes factors for a simple mode</a>
        </li>
        
        <li>
            <a href="/post/">Posts</a>
        </li>
        
        <li>
            <a href="/2019/04/effect-of-sd-under-the-null-hypothesis/">Effect of SD under the null hypothesis</a>
        </li>
        
        <li>
            <a href="/2019/03/design-analysis-for-noveltyvr/">Design analysis for noveltyVR</a>
        </li>
        
        <li>
            <a href="/2019/03/prior-deliberation-on-analysis/">Prior deliberation on analysis</a>
        </li>
        
    </ol>
</section>

    
    
        <section>
    
        
    
        
        <h4>Categories</h4>
        <p>
            
            <a class="badge badge-primary" href="/categories/experiments">experiments</a>
            
            <a class="badge badge-primary" href="/categories/general">general</a>
            
        </p>
        
    
        
        <h4>Tags</h4>
        <p>
            
            <a class="badge badge-primary" href="/tags/about">about</a>
            
            <a class="badge badge-primary" href="/tags/bayesian-stats">bayesian-stats</a>
            
            <a class="badge badge-primary" href="/tags/data-check">data-check</a>
            
            <a class="badge badge-primary" href="/tags/design-analysis">design-analysis</a>
            
            <a class="badge badge-primary" href="/tags/familiarity">familiarity</a>
            
            <a class="badge badge-primary" href="/tags/glm">glm</a>
            
            <a class="badge badge-primary" href="/tags/graphics">graphics</a>
            
            <a class="badge badge-primary" href="/tags/hippocampus">hippocampus</a>
            
            <a class="badge badge-primary" href="/tags/ideas-and-plans">ideas-and-plans</a>
            
            <a class="badge badge-primary" href="/tags/lab-meeting">lab-meeting</a>
            
            <a class="badge badge-primary" href="/tags/lme4/lmertest">lme4/lmertest</a>
            
            <a class="badge badge-primary" href="/tags/memory">memory</a>
            
            <a class="badge badge-primary" href="/tags/meta">meta</a>
            
            <a class="badge badge-primary" href="/tags/mixed-linear-models">mixed-linear-models</a>
            
            <a class="badge badge-primary" href="/tags/mpfc">mpfc</a>
            
            <a class="badge badge-primary" href="/tags/noveltyvr">noveltyvr</a>
            
            <a class="badge badge-primary" href="/tags/pilot-study">pilot-study</a>
            
            <a class="badge badge-primary" href="/tags/ratingstudy">ratingstudy</a>
            
            <a class="badge badge-primary" href="/tags/recognition-memory">recognition-memory</a>
            
            <a class="badge badge-primary" href="/tags/recollection">recollection</a>
            
            <a class="badge badge-primary" href="/tags/research-design">research-design</a>
            
            <a class="badge badge-primary" href="/tags/rmarkdown">rmarkdown</a>
            
            <a class="badge badge-primary" href="/tags/schema">schema</a>
            
            <a class="badge badge-primary" href="/tags/schemavr">schemavr</a>
            
            <a class="badge badge-primary" href="/tags/schemavr1">schemavr1</a>
            
            <a class="badge badge-primary" href="/tags/schemavr2">schemavr2</a>
            
            <a class="badge badge-primary" href="/tags/unity3d">unity3d</a>
            
            <a class="badge badge-primary" href="/tags/word-properties">word-properties</a>
            
            <a class="badge badge-primary" href="/tags/words">words</a>
            
        </p>
        
    
</section>
    
</aside>

      </div>
    </div>
    

    
      






<footer class="blog-footer w-100">
    <nav class="navbar navbar-light bg-light">
        <p class="w-100 text-center">Hugo template made with ❤ by <a href="https://github.com/Xzya">Xzya</a>, inspired by <a href="https://github.com/alanorth/hugo-theme-bootstrap4-blog">hugo-theme-bootstrap4-blog</a></p>
        <p class="w-100 text-center"><a href="#">Back to top</a></p>
    </nav>
</footer>

<script src="//yihui.org/js/math-code.js"></script>
<script async
src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML"></script>


<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ['$','$'], ["\\(","\\)"] ],
            displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
            processEscapes: true,
            processEnvironments: true
        },
        // Center justify equations in code and markdown cells. Elsewhere
        // we use CSS to left justify single line equations in code cells.
        displayAlign: 'center',
        "HTML-CSS": {
            styles: {'.MathJax_Display': {"margin": 0}},
            linebreaks: { automatic: true }
        }
    });
</script>
 
    

    
    
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
  </body>
</html>
